{% extends "base.html" %}
{% block content %}
<h2>Snapshots</h2>
<p><a href="/snapshots/new">Create snapshot</a></p>
<table role="grid">
  <thead>
    <tr>
      <th>Date</th><th>Base</th><th>Net Worth (base)</th><th>Action</th>
    </tr>
  </thead>
  <tbody>
  {% for item in snaps %}
    <tr>
      <td>{{ item.snap.snapshot_date }}</td>
      <td>{{ item.snap.base_currency }}</td>
      <td>{{ "{:,.2f}".format(item.total) }}</td>
      <td style="white-space:nowrap;">
        <form method="get" action="/snapshots/{{ item.snap.id }}/edit" style="display:inline;">
          <button>Edit</button>
        </form>
        <form method="post" action="/snapshots/{{ item.snap.id }}/delete" style="display:inline;"
              onsubmit="return confirm('Are you sure you want to delete this snapshot? This will permanently remove its FX rates, balances, and flows.');">
          <button class="contrast">Delete</button>
        </form>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

{% endblock %}
